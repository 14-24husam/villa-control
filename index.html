<!DOCTYPE html>
<html lang="ar">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø°ÙƒÙŠØ©</title>

<script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>

<style>

body{
  background:
  radial-gradient(circle at 20% 20%, #0ea5e9 0%, transparent 25%),
  radial-gradient(circle at 80% 80%, #22c55e 0%, transparent 25%),
  linear-gradient(180deg,#020617,#020617,#020617);
  color:#e5e7eb;
  font-family:"Segoe UI",Tahoma;
  text-align:center;
  direction:rtl;
  margin:0;
}

h2{
  margin-top:20px;
  font-size:28px;
  color:#38bdf8;
  text-shadow:0 0 10px #38bdf8;
}

.status{
  margin-top:10px;
  font-size:14px;
}

.online{
  color:#22c55e;
}

.offline{
  color:#ef4444;
}

.section{
  background: rgba(15,23,42,0.7);
  border:1px solid rgba(56,189,248,0.2);
  margin:20px auto;
  padding:20px;
  border-radius:18px;
  width:90%;
  max-width:500px;
  backdrop-filter: blur(10px);
  box-shadow:0 0 15px rgba(56,189,248,0.1);
}

.section:hover{
  transform:translateY(-3px);
  box-shadow:0 0 25px rgba(56,189,248,0.3);
}

.section h3{
  color:#facc15;
  margin-bottom:15px;
}

button{
  width:190px;
  height:50px;
  margin:6px;
  border:none;
  border-radius:12px;
  font-size:15px;
  font-weight:bold;
  cursor:pointer;
  transition:0.25s;
}

button:active{
  transform:scale(0.92);
}

.on{
  background:linear-gradient(145deg,#22c55e,#15803d);
  color:white;
}

.off{
  background:linear-gradient(145deg,#ef4444,#991b1b);
  color:white;
}

.console{
  width:90%;
  max-width:500px;
  height:150px;
  margin:20px auto;
  background:#020617;
  border-radius:14px;
  padding:10px;
  font-size:12px;
  color:#38bdf8;
  overflow-y:auto;
}

.footer{
  margin-top:30px;
  margin-bottom:15px;
  font-size:11px;
  color:#64748b;
}

</style>

</head>

<body>

<h2>ğŸ  Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø°ÙƒÙŠØ©</h2>
<div id="status" class="status offline">ğŸ”´ ØºÙŠØ± Ù…ØªØµÙ„</div>


<!-- Ø§Ù„ÙƒØ±Ø§Ø¬ -->
<div class="section">
<h3>Ø§Ù„ÙƒØ±Ø§Ø¬</h3>

<button onclick="send('garage',1,'R1ON')" class="on">ØªØ´ØºÙŠÙ„</button>
<button onclick="send('garage',1,'R1OFF')" class="off">Ø¥ÙŠÙ‚Ø§Ù</button>

<button onclick="send('garage',2,'R2ON')" class="on">Ù†Ø§ÙÙˆØ±Ø© ØªØ´ØºÙŠÙ„</button>
<button onclick="send('garage',2,'R2OFF')" class="off">Ù†Ø§ÙÙˆØ±Ø© Ø¥ÙŠÙ‚Ø§Ù</button>

<!-- Ø§Ù„Ø¨Ø¦Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
<button onclick="sendSpecial('garage','well','R3ON')" class="on">Ø§Ù„Ø¨Ø¦Ø± ØªØ´ØºÙŠÙ„</button>
<button onclick="sendSpecial('garage','well','R3OFF')" class="off">Ø§Ù„Ø¨Ø¦Ø± Ø¥ÙŠÙ‚Ø§Ù</button>

</div>


<!-- Ø§Ù„Ù…Ø³Ø¨Ø­ -->
<div class="section">
<h3>Ø§Ù„Ù…Ø³Ø¨Ø­</h3>

<button onclick="send('pool',1,'R1ON')" class="on">ÙÙ„ØªØ± 1 ØªØ´ØºÙŠÙ„</button>
<button onclick="send('pool',1,'R1OFF')" class="off">ÙÙ„ØªØ± 1 Ø¥ÙŠÙ‚Ø§Ù</button>

<button onclick="send('pool',2,'R2ON')" class="on">ÙÙ„ØªØ± 2 ØªØ´ØºÙŠÙ„</button>
<button onclick="send('pool',2,'R2OFF')" class="off">ÙÙ„ØªØ± 2 Ø¥ÙŠÙ‚Ø§Ù</button>

<button onclick="send('pool',3,'R3ON')" class="on">Ø¥Ù†Ø§Ø±Ø© ØªØ´ØºÙŠÙ„</button>
<button onclick="send('pool',3,'R3OFF')" class="off">Ø¥Ù†Ø§Ø±Ø© Ø¥ÙŠÙ‚Ø§Ù</button>

<button onclick="send('pool',4,'R4ON')" class="on">Ø¥Ø¶Ø§ÙÙŠ ØªØ´ØºÙŠÙ„</button>
<button onclick="send('pool',4,'R4OFF')" class="off">Ø¥Ø¶Ø§ÙÙŠ Ø¥ÙŠÙ‚Ø§Ù</button>

</div>


<!-- Ø§Ù„Ø¨Ø­ÙŠØ±Ø© -->
<div class="section">
<h3>Ø§Ù„Ø¨Ø­ÙŠØ±Ø©</h3>

<button onclick="send('lake',1,'R1ON')" class="on">Ø´Ù„Ø§Ù„ ØªØ´ØºÙŠÙ„</button>
<button onclick="send('lake',1,'R1OFF')" class="off">Ø´Ù„Ø§Ù„ Ø¥ÙŠÙ‚Ø§Ù</button>

<button onclick="send('lake',2,'R2ON')" class="on">ÙÙ„ØªØ± ØªØ´ØºÙŠÙ„</button>
<button onclick="send('lake',2,'R2OFF')" class="off">ÙÙ„ØªØ± Ø¥ÙŠÙ‚Ø§Ù</button>

<button onclick="send('lake',3,'R3ON')" class="on">Ø¥Ù†Ø§Ø±Ø© ØªØ´ØºÙŠÙ„</button>
<button onclick="send('lake',3,'R3OFF')" class="off">Ø¥Ù†Ø§Ø±Ø© Ø¥ÙŠÙ‚Ø§Ù</button>

<button onclick="send('lake',4,'R4ON')" class="on">Ø¥Ø¶Ø§ÙÙŠ ØªØ´ØºÙŠÙ„</button>
<button onclick="send('lake',4,'R4OFF')" class="off">Ø¥Ø¶Ø§ÙÙŠ Ø¥ÙŠÙ‚Ø§Ù</button>

</div>


<!-- Ø§Ù„ÙƒÙˆØ® -->
<div class="section">
<h3>Ø§Ù„ÙƒÙˆØ®</h3>

<button onclick="send('chalet',1,'R1ON')" class="on">Ø¥Ù†Ø§Ø±Ø© 1 ØªØ´ØºÙŠÙ„</button>
<button onclick="send('chalet',1,'R1OFF')" class="off">Ø¥Ù†Ø§Ø±Ø© 1 Ø¥ÙŠÙ‚Ø§Ù</button>

<button onclick="send('chalet',2,'R2ON')" class="on">Ø¥Ù†Ø§Ø±Ø© 2 ØªØ´ØºÙŠÙ„</button>
<button onclick="send('chalet',2,'R2OFF')" class="off">Ø¥Ù†Ø§Ø±Ø© 2 Ø¥ÙŠÙ‚Ø§Ù</button>

</div>


<!-- ØºØ±ÙØ© Ø§Ù„ÙƒÙˆÙ…Ø¨ÙŠ -->
<div class="section">
<h3>ØºØ±ÙØ© Ø§Ù„ÙƒÙˆÙ…Ø¨ÙŠ</h3>

<button onclick="sendSpecial('computer','bathroom','BON')" class="on">Ø§Ù„Ø­Ù…Ø§Ù… ØªØ´ØºÙŠÙ„</button>
<button onclick="sendSpecial('computer','bathroom','BOFF')" class="off">Ø§Ù„Ø­Ù…Ø§Ù… Ø¥ÙŠÙ‚Ø§Ù</button>

<button onclick="sendSpecial('computer','bathroom_extra','BEON')" class="on">Ø­Ù…Ø§Ù… Ø¥Ø¶Ø§ÙÙŠ ØªØ´ØºÙŠÙ„</button>
<button onclick="sendSpecial('computer','bathroom_extra','BEOFF')" class="off">Ø­Ù…Ø§Ù… Ø¥Ø¶Ø§ÙÙŠ Ø¥ÙŠÙ‚Ø§Ù</button>

</div>


<!-- Ø§Ù„Ø­Ø¯ÙŠÙ‚Ø© -->
<div class="section">
<h3>Ø§Ù„Ø­Ø¯ÙŠÙ‚Ø©</h3>

<button onclick="send('garden',1,'R1ON')" class="on">ØªÙƒØ­ÙŠÙ„Ø© 1 ØªØ´ØºÙŠÙ„</button>
<button onclick="send('garden',1,'R1OFF')" class="off">ØªÙƒØ­ÙŠÙ„Ø© 1 Ø¥ÙŠÙ‚Ø§Ù</button>

<button onclick="send('garden',2,'R2ON')" class="on">ØªÙƒØ­ÙŠÙ„Ø© 2 ØªØ´ØºÙŠÙ„</button>
<button onclick="send('garden',2,'R2OFF')" class="off">ØªÙƒØ­ÙŠÙ„Ø© 2 Ø¥ÙŠÙ‚Ø§Ù</button>

<button onclick="send('garden',3,'R3ON')" class="on">ØªÙƒØ­ÙŠÙ„Ø© 3 ØªØ´ØºÙŠÙ„</button>
<button onclick="send('garden',3,'R3OFF')" class="off">ØªÙƒØ­ÙŠÙ„Ø© 3 Ø¥ÙŠÙ‚Ø§Ù</button>

<button onclick="send('garden',4,'R4ON')" class="on">ØªÙƒØ­ÙŠÙ„Ø© 4 ØªØ´ØºÙŠÙ„</button>
<button onclick="send('garden',4,'R4OFF')" class="off">ØªÙƒØ­ÙŠÙ„Ø© 4 Ø¥ÙŠÙ‚Ø§Ù</button>

</div>


<!-- Ø§Ù„Ø¨Ø§Ø¨ -->
<div class="section">
<h3>Ø§Ù„Ø¨Ø§Ø¨ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</h3>

<button class="on"
onmousedown="doorPress()"
onmouseup="doorRelease()"
ontouchstart="doorPress()"
ontouchend="doorRelease()">
ÙØªØ­ Ø§Ù„Ø¨Ø§Ø¨
</button>

</div>


<div id="log" class="console">
Console:
</div>

<div class="footer">
CREATED BY ENG: HUSAM ALHAJ ALI
</div>


<script>

const key="KjQ9z!_LmN5s@2";

let client;
let connected=false;


function log(msg){

  const box=document.getElementById("log");
  box.innerHTML+="<br>"+msg;
  box.scrollTop=box.scrollHeight;

}


function setStatus(state){

  const s=document.getElementById("status");

  if(state){

    s.innerHTML="ğŸŸ¢ Ù…ØªØµÙ„";
    s.className="status online";

  }else{

    s.innerHTML="ğŸ”´ ØºÙŠØ± Ù…ØªØµÙ„";
    s.className="status offline";

  }

}


function connect(){

client=mqtt.connect("wss://broker.hivemq.com:8884/mqtt");

client.on("connect",()=>{

connected=true;
setStatus(true);
log("ØªÙ… Ø§Ù„Ø§ØªØµØ§Ù„");

});

client.on("offline",()=>{

connected=false;
setStatus(false);
log("Ø§Ù†Ù‚Ø·Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„");

});

}


function send(device,relay,command){

if(!connected)return;

const topic=`husam/${device}/relay${relay}/${key}`;

client.publish(topic,command);

log(topic+" â†’ "+command);

}


function sendSpecial(device,name,command){

if(!connected)return;

const topic=`husam/${device}/${name}/${key}`;

client.publish(topic,command);

log(topic+" â†’ "+command);

}


function doorPress(){

client.publish(`husam/door/control/${key}`,"OPEN");
log("OPEN");

}


function doorRelease(){

client.publish(`husam/door/control/${key}`,"CLOSE");
log("CLOSE");

}


connect();

</script>

</body>
</html>
